{"pageProps":{"post":{"attributes":{"title":"RSC Dependencies","description":"Learn how to set up a React Server Components project from scratch using Webpack and Babel, with guidance from Brian Holt's Intermediate React v6 course on Frontend Masters. This comprehensive guide includes configuring Webpack, Babel, and Fastify to run RSCs efficiently without additional frameworks, enhancing your web development skills.","keywords":["React Server Components","Webpack","Babel","Brian Holt","Frontend Masters","RSC","web development"]},"html":"<p>There&#39;s a lot to getting this set up by hand, but bear with me, and I promise at the end of this you&#39;re going to understand RSCs at a depth that allows you to make trade-offs of when to use them and when to avoid them.</p>\n<p>So, first, we&#39;re going to use Webpack and Babel directly (despite normally I&#39;d suggest Vite.) Why? Because this allows us to use the React team&#39;s code directly without a layer indirection between Vite and Webpack. In general I suggest Vite for React devs.</p>\n<p>So let&#39;s get our project started. In a new directory run</p>\n<pre><code class=\"hljs language-bash\">npm init -y\nnpm install @babel/core@7.26.8 @babel/plugin-transform-modules-commonjs@7.26.3 @babel/preset-react@7.26.3 @babel/register@7.25.9 @fastify/static@8.1.0 babel-loader@9.2.1 css-loader@7.1.2 doodle.css@0.0.2 fastify@5.2.1 html-webpack-plugin@5.6.3 nodemon@3.1.9 pino-pretty@13.0.0 promised-sqlite3@2.1.0 react@19.0.0 react-dom@19.0.0 react-server-dom-webpack@19.0.0 sqlite3@5.1.7 style-loader@4.0.0 webpack@5.97.1 webpack-cli@6.0.1\n</code></pre><p>You can either run that, or just copy this package.json into your project and run <code>npm i</code>.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;name&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;no-framework&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;version&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;1.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;main&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;index.js&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;scripts&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span><span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;keywords&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;author&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;Brian Holt&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;license&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;Apache-2.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;description&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;React Server Components without a framework!&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;dependencies&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">&quot;@babel/core&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^7.26.8&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;@babel/plugin-transform-modules-commonjs&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^7.26.3&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;@babel/preset-react&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^7.26.3&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;@babel/register&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^7.25.9&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;@fastify/static&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^8.1.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;babel-loader&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^9.2.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;css-loader&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^7.1.2&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;doodle.css&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^0.0.2&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;fastify&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^5.2.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;html-webpack-plugin&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^5.6.3&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;nodemon&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^3.1.9&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;pino-pretty&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^13.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;promised-sqlite3&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^2.1.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;react&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^19.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;react-dom&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^19.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;react-server-dom-webpack&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^19.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;sqlite3&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^5.1.7&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;style-loader&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^4.0.0&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;webpack&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^5.97.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;webpack-cli&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;^6.0.1&quot;</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre><p>Either works! We need a lot of machinery to get this to work but the high level is we&#39;re going to be building a Fastify server that is going to be serving RSCs via the React Flight format.</p>\n<p>Let&#39;s set up Webpack. Create a webpack.config.js</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> path = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;node:path&quot;</span>);\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">HtmlWebpackPlugin</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;html-webpack-plugin&quot;</span>);\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">ReactServerWebpackPlugin</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;react-server-dom-webpack/plugin&quot;</span>);\n\n<span class=\"hljs-keyword\">const</span> mode = process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">NODE_ENV</span> || <span class=\"hljs-string\">&quot;development&quot;</span>;\n<span class=\"hljs-keyword\">const</span> development = mode === <span class=\"hljs-string\">&quot;development&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> config = {\n  mode,\n  <span class=\"hljs-attr\">entry</span>: <span class=\"hljs-string\">&quot;./src/Client.jsx&quot;</span>,\n  <span class=\"hljs-attr\">module</span>: {\n    <span class=\"hljs-attr\">rules</span>: [\n      {\n        <span class=\"hljs-attr\">test</span>: <span class=\"hljs-regexp\">/\\.jsx?$/</span>,\n        <span class=\"hljs-attr\">use</span>: <span class=\"hljs-string\">&quot;babel-loader&quot;</span>,\n        <span class=\"hljs-attr\">exclude</span>: <span class=\"hljs-regexp\">/node_modules/</span>,\n      },\n      {\n        <span class=\"hljs-attr\">test</span>: <span class=\"hljs-regexp\">/\\.css$/i</span>,\n        <span class=\"hljs-attr\">use</span>: [<span class=\"hljs-string\">&quot;style-loader&quot;</span>, <span class=\"hljs-string\">&quot;css-loader&quot;</span>],\n      },\n    ],\n  },\n  <span class=\"hljs-attr\">resolve</span>: {\n    <span class=\"hljs-attr\">extensions</span>: [<span class=\"hljs-string\">&quot;.js&quot;</span>, <span class=\"hljs-string\">&quot;.jsx&quot;</span>],\n  },\n  <span class=\"hljs-attr\">plugins</span>: [\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HtmlWebpackPlugin</span>({\n      <span class=\"hljs-attr\">inject</span>: <span class=\"hljs-literal\">true</span>,\n      <span class=\"hljs-attr\">publicPath</span>: <span class=\"hljs-string\">&quot;/assets/&quot;</span>,\n      <span class=\"hljs-attr\">template</span>: <span class=\"hljs-string\">&quot;./index.html&quot;</span>,\n    }),\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReactServerWebpackPlugin</span>({ <span class=\"hljs-attr\">isServer</span>: <span class=\"hljs-literal\">false</span> }),\n  ],\n  <span class=\"hljs-attr\">output</span>: {\n    <span class=\"hljs-attr\">chunkFilename</span>: development\n      ? <span class=\"hljs-string\">&quot;[id].chunk.js&quot;</span>\n      : <span class=\"hljs-string\">&quot;[id].[contenthash].chunk.js&quot;</span>,\n    <span class=\"hljs-attr\">path</span>: path.<span class=\"hljs-title function_\">resolve</span>(__dirname, <span class=\"hljs-string\">&quot;dist&quot;</span>),\n    <span class=\"hljs-attr\">filename</span>: <span class=\"hljs-string\">&quot;[name].js&quot;</span>,\n    <span class=\"hljs-attr\">clean</span>: <span class=\"hljs-literal\">true</span>,\n  },\n  <span class=\"hljs-attr\">optimization</span>: {\n    <span class=\"hljs-attr\">runtimeChunk</span>: <span class=\"hljs-string\">&quot;single&quot;</span>,\n  },\n};\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = config;\n</code></pre><p>This isn&#39;t a Webpack class so let&#39;s not dive too deep here - we&#39;re just making a Webpack config that&#39;s going to compile our React from JSX to usable JS code, use style-loader to load CSS, use the HTML plugin to generate a valid HTML for us, and make sure it&#39;s all living in one bundle so our React Flight protocol can find client side components in the bundle.</p>\n<p>Let&#39;s set up the Babel config. Make a babel.config.js file.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> development = (process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">NODE_ENV</span> || <span class=\"hljs-string\">&quot;development&quot;</span>) === <span class=\"hljs-string\">&quot;development&quot;</span>;\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = {\n  <span class=\"hljs-attr\">presets</span>: [\n    [\n      <span class=\"hljs-string\">&quot;@babel/preset-react&quot;</span>,\n      {\n        <span class=\"hljs-attr\">runtime</span>: <span class=\"hljs-string\">&quot;automatic&quot;</span>,\n        <span class=\"hljs-attr\">useSpread</span>: <span class=\"hljs-literal\">true</span>,\n        <span class=\"hljs-attr\">development</span>: <span class=\"hljs-literal\">true</span>,\n      },\n    ],\n  ],\n};\n</code></pre><p>Now everything will work with Babel.</p>\n<p>Let&#39;s make an index.html</p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">&quot;en&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">&quot;utf-8&quot;</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;viewport&quot;</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>React Server Components without a Framework!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/index.css&quot;</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;doodle&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;root&quot;</span>&gt;</span><span class=\"hljs-comment\">&lt;!--ROOT--&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre><p>Looks quite similar to our previous ones. Let&#39;s make a /public/index.css. <a href=\"https://raw.githubusercontent.com/btholt/irv6-project/refs/heads/main/completed/no-framework/public/index.css\">Copy it from here</a></p>\n<p>Copy <a href=\"https://github.com/btholt/irv6-project/blob/main/notes.db\">this SQLite file</a> to your root directory as well.</p>\n<blockquote>\n<p>Both of these files should be in the root directory of the project if you cloned it. notes.db and index.css. Put them into your project</p>\n</blockquote>\n<p>Lastly add these scripts to your package.json</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-attr\">&quot;scripts&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;dev:client&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;webpack --watch&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;dev:server&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;node --watch --conditions react-server server/main.js&quot;</span>\n<span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n</code></pre><p>Okay, this should give us everything that&#39;s needed for our app to function before we actually write the server and the React app. One bit to highlight is <code>const ReactServerWebpackPlugin = require(&quot;react-server-dom-webpack/plugin&quot;);</code> in our Webpack file - this is the magic plugin that will allow Webpack to <em>not</em> render server components and only include client components. Other than that, this is a very standard React + Webpack set up.</p>\n<p>Another new thing you might be the <code>--conditions react-server</code> part of running our server app. This lets Node.js know how to resolve its modules - we&#39;re in a react-server condition so only import those and know not to import client modules. I had never used this feature of Node.js before but it&#39;s pretty cool, even if it&#39;s a bit niche.</p>\n","markdown":"\nThere's a lot to getting this set up by hand, but bear with me, and I promise at the end of this you're going to understand RSCs at a depth that allows you to make trade-offs of when to use them and when to avoid them.\n\nSo, first, we're going to use Webpack and Babel directly (despite normally I'd suggest Vite.) Why? Because this allows us to use the React team's code directly without a layer indirection between Vite and Webpack. In general I suggest Vite for React devs.\n\nSo let's get our project started. In a new directory run\n\n```bash\nnpm init -y\nnpm install @babel/core@7.26.8 @babel/plugin-transform-modules-commonjs@7.26.3 @babel/preset-react@7.26.3 @babel/register@7.25.9 @fastify/static@8.1.0 babel-loader@9.2.1 css-loader@7.1.2 doodle.css@0.0.2 fastify@5.2.1 html-webpack-plugin@5.6.3 nodemon@3.1.9 pino-pretty@13.0.0 promised-sqlite3@2.1.0 react@19.0.0 react-dom@19.0.0 react-server-dom-webpack@19.0.0 sqlite3@5.1.7 style-loader@4.0.0 webpack@5.97.1 webpack-cli@6.0.1\n```\n\nYou can either run that, or just copy this package.json into your project and run `npm i`.\n\n```json\n{\n  \"name\": \"no-framework\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"scripts\": {},\n  \"keywords\": [],\n  \"author\": \"Brian Holt\",\n  \"license\": \"Apache-2.0\",\n  \"description\": \"React Server Components without a framework!\",\n  \"dependencies\": {\n    \"@babel/core\": \"^7.26.8\",\n    \"@babel/plugin-transform-modules-commonjs\": \"^7.26.3\",\n    \"@babel/preset-react\": \"^7.26.3\",\n    \"@babel/register\": \"^7.25.9\",\n    \"@fastify/static\": \"^8.1.0\",\n    \"babel-loader\": \"^9.2.1\",\n    \"css-loader\": \"^7.1.2\",\n    \"doodle.css\": \"^0.0.2\",\n    \"fastify\": \"^5.2.1\",\n    \"html-webpack-plugin\": \"^5.6.3\",\n    \"nodemon\": \"^3.1.9\",\n    \"pino-pretty\": \"^13.0.0\",\n    \"promised-sqlite3\": \"^2.1.0\",\n    \"react\": \"^19.0.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"react-server-dom-webpack\": \"^19.0.0\",\n    \"sqlite3\": \"^5.1.7\",\n    \"style-loader\": \"^4.0.0\",\n    \"webpack\": \"^5.97.1\",\n    \"webpack-cli\": \"^6.0.1\"\n  }\n}\n```\n\nEither works! We need a lot of machinery to get this to work but the high level is we're going to be building a Fastify server that is going to be serving RSCs via the React Flight format.\n\nLet's set up Webpack. Create a webpack.config.js\n\n```javascript\nconst path = require(\"node:path\");\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nconst ReactServerWebpackPlugin = require(\"react-server-dom-webpack/plugin\");\n\nconst mode = process.env.NODE_ENV || \"development\";\nconst development = mode === \"development\";\n\nconst config = {\n  mode,\n  entry: \"./src/Client.jsx\",\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: \"babel-loader\",\n        exclude: /node_modules/,\n      },\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n  resolve: {\n    extensions: [\".js\", \".jsx\"],\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      inject: true,\n      publicPath: \"/assets/\",\n      template: \"./index.html\",\n    }),\n    new ReactServerWebpackPlugin({ isServer: false }),\n  ],\n  output: {\n    chunkFilename: development\n      ? \"[id].chunk.js\"\n      : \"[id].[contenthash].chunk.js\",\n    path: path.resolve(__dirname, \"dist\"),\n    filename: \"[name].js\",\n    clean: true,\n  },\n  optimization: {\n    runtimeChunk: \"single\",\n  },\n};\n\nmodule.exports = config;\n```\n\nThis isn't a Webpack class so let's not dive too deep here - we're just making a Webpack config that's going to compile our React from JSX to usable JS code, use style-loader to load CSS, use the HTML plugin to generate a valid HTML for us, and make sure it's all living in one bundle so our React Flight protocol can find client side components in the bundle.\n\nLet's set up the Babel config. Make a babel.config.js file.\n\n```javascript\nconst development = (process.env.NODE_ENV || \"development\") === \"development\";\n\nmodule.exports = {\n  presets: [\n    [\n      \"@babel/preset-react\",\n      {\n        runtime: \"automatic\",\n        useSpread: true,\n        development: true,\n      },\n    ],\n  ],\n};\n```\n\nNow everything will work with Babel.\n\nLet's make an index.html\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>React Server Components without a Framework!</title>\n    <link rel=\"stylesheet\" href=\"/index.css\" />\n  </head>\n  <body class=\"doodle\">\n    <div id=\"root\"><!--ROOT--></div>\n  </body>\n</html>\n```\n\nLooks quite similar to our previous ones. Let's make a /public/index.css. [Copy it from here][css]\n\nCopy [this SQLite file][sqlite] to your root directory as well.\n\n> Both of these files should be in the root directory of the project if you cloned it. notes.db and index.css. Put them into your project\n\nLastly add these scripts to your package.json\n\n```json\n\"scripts\": {\n  \"dev:client\": \"webpack --watch\",\n  \"dev:server\": \"node --watch --conditions react-server server/main.js\"\n},\n```\n\nOkay, this should give us everything that's needed for our app to function before we actually write the server and the React app. One bit to highlight is `const ReactServerWebpackPlugin = require(\"react-server-dom-webpack/plugin\");` in our Webpack file - this is the magic plugin that will allow Webpack to _not_ render server components and only include client components. Other than that, this is a very standard React + Webpack set up.\n\nAnother new thing you might be the `--conditions react-server` part of running our server app. This lets Node.js know how to resolve its modules - we're in a react-server condition so only import those and know not to import client modules. I had never used this feature of Node.js before but it's pretty cool, even if it's a bit niche.\n\n[css]: https://raw.githubusercontent.com/btholt/irv6-project/refs/heads/main/completed/no-framework/public/index.css\n[sqlite]: https://github.com/btholt/irv6-project/blob/main/notes.db\n","slug":"rsc-dependencies","title":"RSC Dependencies","section":"RSCs without a Framework","icon":"file-code","filePath":"/home/runner/work/intermediate-react-v6/intermediate-react-v6/lessons/03-rscs-without-a-framework/B-rsc-dependencies.md","nextSlug":"/lessons/rscs-without-a-framework/server-and-client-components","prevSlug":"/lessons/rscs-without-a-framework/intro-to-react-server-components"}},"__N_SSG":true}