{"pageProps":{"post":{"attributes":{"description":"In the Intermediate React v6 course by Brian Holt from Frontend Masters, explore the concept of React Server Components (RSCs) and their role in rendering components on the server for improved performance and security. Learn how RSCs differ from server-side rendering and how to implement them using frameworks like Next.js. The course also involves building a messaging app to practice hand-coding with RSCs.","keywords":["React","Frontend Masters","Brian Holt","server components","Next.js","web development","RSC"]},"html":"<p>We&#39;ve talked about client-side React apps (no server), static site generation apps (server runs only at compile time), and server-side rendered app (server renders initial page but then client does the rest). Now we&#39;re going to talk about react server components which involves the server even more.</p>\n<h2>What are RSCs?</h2>\n<p>RSCs are not SSR 2.0.</p>\n<p>This is a common misconception that I just want to dispel upfront: these things are relatively unrelated in the sense you can SSR without RSCs, RSCs without SSR, both, or neither!</p>\n<p>RSCs introduce the notion of a server to an ongoing React app. Whereas SSR renders the page once and then is no longer involved in the ongoing React app, RSCs introduce the notion that the server continues to render parts of the app. An RSC is a component that only renders on the server and sends its complete markup to the app â€“ the client-side app doesn&#39;t even have the code to render the component client-side - it can only receive markup from a server and then insert that into the app.</p>\n<blockquote>\n<p>A React server component is a component that <em>only</em> renders on the server.</p>\n</blockquote>\n<p>Why is this useful? For a couple of reasons. No matter how much of an interactive app you have, large swaths of it are inert markup, text, and content. You don&#39;t need React to generate HTML that shows a few headers and paragraphs. We do it because it&#39;s simpler to keep all the code together, but the truth of it is just that: in the grand scheme of things, React is really only needed client-side to add interactivity to an app. Everything else is developer experience and code organization.</p>\n<p>Enter RSCs. For one, they&#39;re just a simple rendering of a page&#39;s content, rendered once, on the server. This means that it doesn&#39;t matter how powerful a user&#39;s device is, the rendering is happening on the server. It also means users aren&#39;t receiving the code for pages they aren&#39;t going to visit, so the bundle can be split pretty well.</p>\n<p>But the biggest, most powerful feature (in my opinion) is that RSCs can use modules that can only be used on the server. Let&#39;s say you&#39;re making a messaging app (like we&#39;re about to): that data all has to be stored in a database somewhere. Normally you&#39;d need a React app fetch that data with a get request, but with RSCs you can just make the request directly in the React component ðŸ¤¯</p>\n<p>All the secret connection strings you need to have to access your database? Never leave your server! It makes writing React components that read &amp; write from databases, private APIs (like OpenAI, etc.), or need other server-side components very fluent to write. We&#39;re about to see how.</p>\n<h2>Okay so don&#39;t write RSCs by hand</h2>\n<p>But we&#39;re going to lol.</p>\n<p>RSCs are really meant to be written by frameworks and <em>not</em> be written by the masses. It&#39;s a pretty deep integration to build with your bundler (and they only ship Webpack at the moment) and it&#39;s very hard to get right and not get a net-negative on performance.</p>\n<p>It&#39;s also just a lot of code to write, and there already a few frameworks out there that will do it better than you likely have time to.</p>\n<ul>\n<li><a href=\"https://nextjs.org/\">Next.js</a></li>\n<li><a href=\"https://reactrouter.com/\">React Router v7 / Remix</a> (soon)</li>\n<li><a href=\"https://tanstack.com/start/latest\">TanStack Start</a> (soon)</li>\n</ul>\n<p>Next.js works with RSCs today, as of the writing of this course, and embraces the full surface capabilities of RSCs. React Router v7 and TanStack Start both have expressed that at least initially they will be selective of which features that they embrace that make sense with their frameworks (and I support that! No reason to shoehorn it in.)</p>\n<p>We&#39;ll end up writing a whole app in Next.js by the end of the course, but we&#39;re going to start with doing it by hand!</p>\n<h2>NotePasser</h2>\n<p>Remember in school when you would pass notes by hand? No? Well, back in my day (<em>shakes fist at passing cloud</em>) we didn&#39;t have cell phones and had to rely on penmanship and stealthily trying to pass a paper note to our friend in class.</p>\n<p>We&#39;re going to build an app inspired by that today, where we can pass notes from one user to another.</p>\n<p>One note - I had originally built this app to have a full on auth provider, but realized it was adding a lot of complexity to the app that wasn&#39;t teaching you how to do React. Instead this app is going to sort of fake auth. We&#39;re just going to assume whoever is using the app is always user ID <code>1</code>. This is done in the name of simplicity so we can just focus on building React apps, but feel free to later to add a cool auth provider like <a href=\"https://neon.tech/\">Neon Auth</a> (I helped build this one!!), <a href=\"https://clerk.com/\">Clerk</a>, <a href=\"https://www.descope.com/\">Descope</a>, or any other of your favorites.</p>\n","markdown":"\nWe've talked about client-side React apps (no server), static site generation apps (server runs only at compile time), and server-side rendered app (server renders initial page but then client does the rest). Now we're going to talk about react server components which involves the server even more.\n\n## What are RSCs?\n\nRSCs are not SSR 2.0.\n\nThis is a common misconception that I just want to dispel upfront: these things are relatively unrelated in the sense you can SSR without RSCs, RSCs without SSR, both, or neither!\n\nRSCs introduce the notion of a server to an ongoing React app. Whereas SSR renders the page once and then is no longer involved in the ongoing React app, RSCs introduce the notion that the server continues to render parts of the app. An RSC is a component that only renders on the server and sends its complete markup to the app â€“ the client-side app doesn't even have the code to render the component client-side - it can only receive markup from a server and then insert that into the app.\n\n> A React server component is a component that _only_ renders on the server.\n\nWhy is this useful? For a couple of reasons. No matter how much of an interactive app you have, large swaths of it are inert markup, text, and content. You don't need React to generate HTML that shows a few headers and paragraphs. We do it because it's simpler to keep all the code together, but the truth of it is just that: in the grand scheme of things, React is really only needed client-side to add interactivity to an app. Everything else is developer experience and code organization.\n\nEnter RSCs. For one, they're just a simple rendering of a page's content, rendered once, on the server. This means that it doesn't matter how powerful a user's device is, the rendering is happening on the server. It also means users aren't receiving the code for pages they aren't going to visit, so the bundle can be split pretty well.\n\nBut the biggest, most powerful feature (in my opinion) is that RSCs can use modules that can only be used on the server. Let's say you're making a messaging app (like we're about to): that data all has to be stored in a database somewhere. Normally you'd need a React app fetch that data with a get request, but with RSCs you can just make the request directly in the React component ðŸ¤¯\n\nAll the secret connection strings you need to have to access your database? Never leave your server! It makes writing React components that read & write from databases, private APIs (like OpenAI, etc.), or need other server-side components very fluent to write. We're about to see how.\n\n## Okay so don't write RSCs by hand\n\nBut we're going to lol.\n\nRSCs are really meant to be written by frameworks and _not_ be written by the masses. It's a pretty deep integration to build with your bundler (and they only ship Webpack at the moment) and it's very hard to get right and not get a net-negative on performance.\n\nIt's also just a lot of code to write, and there already a few frameworks out there that will do it better than you likely have time to.\n\n- [Next.js][next]\n- [React Router v7 / Remix][remix] (soon)\n- [TanStack Start][tanstack] (soon)\n\nNext.js works with RSCs today, as of the writing of this course, and embraces the full surface capabilities of RSCs. React Router v7 and TanStack Start both have expressed that at least initially they will be selective of which features that they embrace that make sense with their frameworks (and I support that! No reason to shoehorn it in.)\n\nWe'll end up writing a whole app in Next.js by the end of the course, but we're going to start with doing it by hand!\n\n## NotePasser\n\nRemember in school when you would pass notes by hand? No? Well, back in my day (_shakes fist at passing cloud_) we didn't have cell phones and had to rely on penmanship and stealthily trying to pass a paper note to our friend in class.\n\nWe're going to build an app inspired by that today, where we can pass notes from one user to another.\n\nOne note - I had originally built this app to have a full on auth provider, but realized it was adding a lot of complexity to the app that wasn't teaching you how to do React. Instead this app is going to sort of fake auth. We're just going to assume whoever is using the app is always user ID `1`. This is done in the name of simplicity so we can just focus on building React apps, but feel free to later to add a cool auth provider like [Neon Auth][neon] (I helped build this one!!), [Clerk][clerk], [Descope][descope], or any other of your favorites.\n\n[next]: https://nextjs.org/\n[remix]: https://reactrouter.com/\n[tanstack]: https://tanstack.com/start/latest\n[neon]: https://neon.tech/\n[clerk]: https://clerk.com/\n[descope]: https://www.descope.com/\n","slug":"intro-to-react-server-components","title":"Intro to React Server Components","section":"RSCs without a Framework","icon":"file-code","filePath":"/home/runner/work/intermediate-react-v6/intermediate-react-v6/lessons/03-rscs-without-a-framework/A-intro-to-react-server-components.md","nextSlug":"/lessons/rscs-without-a-framework/rsc-dependencies","prevSlug":"/lessons/react-render-modes/server-side-rendering"}},"__N_SSG":true}