<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">Static Site Generation ‚Äì Intermediate React v6</title><meta name="description" content="Learn how to implement Static Site Generation (SSG) using React and Next.js, with expert guidance from Brian Holt in the Intermediate React v6 course at Frontend Masters. Discover the simplicity of generating static web pages for content-heavy sites and explore how this streamlined approach can expedite course creation without sacrificing quality. Enhance your knowledge on using modern frameworks like Astro and Next.js for optimized static content delivery." data-next-head=""/><meta name="keywords" content="Static Site Generation,Next.js,React,Brian Holt,Frontend Masters" data-next-head=""/><meta name="og:description" content="Learn how to implement Static Site Generation (SSG) using React and Next.js, with expert guidance from Brian Holt in the Intermediate React v6 course at Frontend Masters. Discover the simplicity of generating static web pages for content-heavy sites and explore how this streamlined approach can expedite course creation without sacrificing quality. Enhance your knowledge on using modern frameworks like Astro and Next.js for optimized static content delivery." data-next-head=""/><meta name="og:title" content="Static Site Generation ‚Äì Intermediate React v6" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/0732dfa8741dc542.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0732dfa8741dc542.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b66ed8ba6f029a99.js" defer=""></script><script src="/_next/static/chunks/framework-a4ddb9b21624b39b.js" defer=""></script><script src="/_next/static/chunks/main-d4c20200ddabac7f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-31cd0638bbee6098.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-7da2347a1e0b6c73.js" defer=""></script><script src="/_next/static/81bftuYLGkwiC8AXLtnRs/_buildManifest.js" defer=""></script><script src="/_next/static/81bftuYLGkwiC8AXLtnRs/_ssgManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Intermediate React v6</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/courses/intermediate-react-v6/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><blockquote>
<p>Fun fact: this very website is rendered via SSG with Next.js! <a href="https://github.com/btholt/intermediate-react-v6/">See the code here</a></p>
</blockquote>
<p>Static Site generation allows you to use React to generate a fully static site. This is perfect for sites like blogs or course materials (like this site) where it&#39;s just a bunch of static pages that don&#39;t need the interactivity of React. It&#39;s enough to render this out once - it doesn&#39;t need the interactivity. The result is the end user is just shipped fully rendered flat HTML files - it doesn&#39;t need a server or client to do it. The developer can still add some interactivity via React, but minimally so.</p>
<p>This is just useful for static content. I love it because it helps me ship these courses faster, but it&#39;s not a good fit for anything with much more than basic interactivity.</p>
<h2>Let&#39;s Build It</h2>
<p>This is going to be almost insultingly easy but I want you to see that at its core, they frameworks are mostly doing dev experience work and tools around the actual static site generation and that React itself is doing the heavy lifting.</p>
<p>Create a new folder. In that folder, run</p>
<pre><code class="hljs language-bash">npm init -y
npm i react react-dom
</code></pre><p>In your package.json, add <code>&quot;type&quot;: &quot;module&quot;</code> as a top level item. Also add <code>&quot;build&quot;: &quot;node ./build.js&quot;</code> to your scripts.</p>
<blockquote>
<p>üí° We&#39;re going to do this with vanilla JS and not JSX so we don&#39;t need to bring in Babel/Vite/Webpack/whatever. You could absolutely bring in those if you wanted to, I&#39;m just trying to keep these examples as simple as possible.</p>
</blockquote>
<p>Create index.html, put this in there:</p>
<pre><code class="hljs language-javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>SSG Example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--ROOT--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
</code></pre><p>Create an App.js file, put in there</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { createElement <span class="hljs-keyword">as</span> h } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(
    <span class="hljs-string">&quot;div&quot;</span>,
    <span class="hljs-literal">null</span>,
    <span class="hljs-title function_">h</span>(<span class="hljs-string">&quot;h1&quot;</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;Hello Frontend Masters&quot;</span>),
    <span class="hljs-title function_">h</span>(<span class="hljs-string">&quot;p&quot;</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;This is SSG&quot;</span>)
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre><p>Now create a build.js and put</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { renderToStaticMarkup } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom/server&quot;</span>;
<span class="hljs-keyword">import</span> { createElement <span class="hljs-keyword">as</span> h } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> {
  readFileSync,
  writeFileSync,
  existsSync,
  mkdirSync,
  readdirSync,
  unlinkSync,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;node:fs&quot;</span>;
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;node:url&quot;</span>;
<span class="hljs-keyword">import</span> path, { dirname } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;node:path&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.js&quot;</span>;

<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> __dirname = <span class="hljs-title function_">dirname</span>(__filename);
<span class="hljs-keyword">const</span> distPath = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>);

<span class="hljs-keyword">const</span> shell = <span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&quot;index.html&quot;</span>), <span class="hljs-string">&quot;utf8&quot;</span>);

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">renderToStaticMarkup</span>(<span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>));
<span class="hljs-keyword">const</span> html = shell.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;&lt;!--ROOT--&gt;&quot;</span>, app);

<span class="hljs-comment">// Create dist folder if it doesn&#x27;t exist</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-title function_">existsSync</span>(distPath)) {
  <span class="hljs-title function_">mkdirSync</span>(distPath);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// Delete all files in dist folder if it exists</span>
  <span class="hljs-keyword">const</span> files = <span class="hljs-title function_">readdirSync</span>(distPath);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> file <span class="hljs-keyword">of</span> files) {
    <span class="hljs-title function_">unlinkSync</span>(path.<span class="hljs-title function_">join</span>(distPath, file));
  }
}

<span class="hljs-title function_">writeFileSync</span>(path.<span class="hljs-title function_">join</span>(distPath, <span class="hljs-string">&quot;index.html&quot;</span>), html);
</code></pre><ul>
<li>Most of the code is making sure the dist folder exists, and if it does, is empty</li>
<li>We just take our App, render it to string, and stick it in the HTML shell</li>
<li>You actually <em>could</em> just have React render everything, <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code> and all.</li>
<li>We didn&#39;t include any CSS nor JS, but obviously you could.</li>
<li>For mild amounts of interactivity, you could include JS file with the React run time and hydrate the app, but we don&#39;t need to.</li>
<li>We&#39;re using renderToStaticMarkup - this very similar to the renderToString function but doesn&#39;t include any hints for React to hydrate later for SSR (server-side rendering, our next lesson). renderToString would work, it&#39;ll just include superfluous React stuff we don&#39;t need.</li>
</ul>
<p>This generates one page. You could have it generate many pages any number of ways. We could write a <code>routes.js</code> file that defines a route and its route component and then have build.js loop over that. We could use <code>react-router</code> or something like and then make our build.js use those routes to generate route. Any of these are viable.</p>
<h2>Okay but just use Astro, Next.js, Gatsby, etc.</h2>
<p>I wanted you to see how simple this is, but in reality I can&#39;t fathom why you&#39;d do this. You are just <code>npm create astro@latest</code> from a full-featured framework that is optimized around making static content sites and I can&#39;t see why you wouldn&#39;t do that. This site is built on Next.js because it&#39;s the one I knew the best but if I were to rebuild my course builder website I&#39;d use Astro.</p>
<h2>SSG with Next.js</h2>
<p>This site is entirely SSG&#39;d. In general you will never directly write SSG code yourself; you will rely on a framework to do it for you. I would say the two primary ways to do this are either using <a href="https://nextjs.org/docs/pages/building-your-application/deploying/static-exports">Next.js&#39;s export mode</a> (which is what this site does) or using <a href="https://astro.build/">Astro</a>. Both are great, choose your favorite.</p>
<p>Let&#39;s dive in a second on how this course gets built.</p>
<ul>
<li><a href="https://github.com/btholt/intermediate-react-v6/blob/main/lessons/02-react-render-modes/B-static-site-generation.md">Here&#39;s the link to this page&#39;s markdown file</a></li>
<li><a href="https://github.com/btholt/intermediate-react-v6/blob/main/next.config.js#L9">Here&#39;s the link to this site&#39;s Next.js config</a></li>
<li><a href="https://github.com/btholt/intermediate-react-v6/blob/gh-pages/lessons/react-render-modes/static-site-generation.html">Here&#39;s the link to this page&#39;s built HTML</a></li>
<li><a href="https://github.com/btholt/intermediate-react-v6/tree/gh-pages">Here&#39;s the link to the entire site&#39;s built-out HTML</a></li>
</ul>
<p>Using this toolkit, I&#39;m able to use React to write the wrappers of the pages of the course, write all the content in Markdown, and get all sorts of developer experience tools, SEO tools, and other tools that help make it easy for Frontend Masters to film these videos. I could write raw HTML or a Notion doc or something, but there&#39;s a ton of value being realized here by using Next.js</p>
</div><div class="lesson-links"><a href="/lessons/react-render-modes/client-side-react" class="prev">‚Üê Previous</a><a href="/lessons/react-render-modes/server-side-rendering" class="next">Next ‚Üí</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="auto" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="auto"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Learn how to implement Static Site Generation (SSG) using React and Next.js, with expert guidance from Brian Holt in the Intermediate React v6 course at Frontend Masters. Discover the simplicity of generating static web pages for content-heavy sites and explore how this streamlined approach can expedite course creation without sacrificing quality. Enhance your knowledge on using modern frameworks like Astro and Next.js for optimized static content delivery.","keywords":["Static Site Generation","Next.js","React","Brian Holt","Frontend Masters"]},"html":"\u003cblockquote\u003e\n\u003cp\u003eFun fact: this very website is rendered via SSG with Next.js! \u003ca href=\"https://github.com/btholt/intermediate-react-v6/\"\u003eSee the code here\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eStatic Site generation allows you to use React to generate a fully static site. This is perfect for sites like blogs or course materials (like this site) where it\u0026#39;s just a bunch of static pages that don\u0026#39;t need the interactivity of React. It\u0026#39;s enough to render this out once - it doesn\u0026#39;t need the interactivity. The result is the end user is just shipped fully rendered flat HTML files - it doesn\u0026#39;t need a server or client to do it. The developer can still add some interactivity via React, but minimally so.\u003c/p\u003e\n\u003cp\u003eThis is just useful for static content. I love it because it helps me ship these courses faster, but it\u0026#39;s not a good fit for anything with much more than basic interactivity.\u003c/p\u003e\n\u003ch2\u003eLet\u0026#39;s Build It\u003c/h2\u003e\n\u003cp\u003eThis is going to be almost insultingly easy but I want you to see that at its core, they frameworks are mostly doing dev experience work and tools around the actual static site generation and that React itself is doing the heavy lifting.\u003c/p\u003e\n\u003cp\u003eCreate a new folder. In that folder, run\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm init -y\nnpm i react react-dom\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn your package.json, add \u003ccode\u003e\u0026quot;type\u0026quot;: \u0026quot;module\u0026quot;\u003c/code\u003e as a top level item. Also add \u003ccode\u003e\u0026quot;build\u0026quot;: \u0026quot;node ./build.js\u0026quot;\u003c/code\u003e to your scripts.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüí° We\u0026#39;re going to do this with vanilla JS and not JSX so we don\u0026#39;t need to bring in Babel/Vite/Webpack/whatever. You could absolutely bring in those if you wanted to, I\u0026#39;m just trying to keep these examples as simple as possible.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eCreate index.html, put this in there:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u0026lt;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u0026gt;\n\u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;en\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eSSG Example\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;root\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!--ROOT--\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCreate an App.js file, put in there\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { createElement \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e h } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eh\u003c/span\u003e(\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;div\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e,\n    \u003cspan class=\"hljs-title function_\"\u003eh\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;h1\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello Frontend Masters\u0026quot;\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003eh\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;p\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;This is SSG\u0026quot;\u003c/span\u003e)\n  );\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow create a build.js and put\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { renderToStaticMarkup } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react-dom/server\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { createElement \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e h } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n  readFileSync,\n  writeFileSync,\n  existsSync,\n  mkdirSync,\n  readdirSync,\n  unlinkSync,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;node:fs\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { fileURLToPath } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;node:url\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e path, { dirname } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;node:path\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./App.js\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e __filename = \u003cspan class=\"hljs-title function_\"\u003efileURLToPath\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emeta\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eurl\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e __dirname = \u003cspan class=\"hljs-title function_\"\u003edirname\u003c/span\u003e(__filename);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e distPath = path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026quot;dist\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e shell = \u003cspan class=\"hljs-title function_\"\u003ereadFileSync\u003c/span\u003e(path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026quot;index.html\u0026quot;\u003c/span\u003e), \u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003erenderToStaticMarkup\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eh\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e));\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e html = shell.\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;!--ROOT--\u0026gt;\u0026quot;\u003c/span\u003e, app);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create dist folder if it doesn\u0026#x27;t exist\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title function_\"\u003eexistsSync\u003c/span\u003e(distPath)) {\n  \u003cspan class=\"hljs-title function_\"\u003emkdirSync\u003c/span\u003e(distPath);\n} \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment\"\u003e// Delete all files in dist folder if it exists\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e files = \u003cspan class=\"hljs-title function_\"\u003ereaddirSync\u003c/span\u003e(distPath);\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e file \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e files) {\n    \u003cspan class=\"hljs-title function_\"\u003eunlinkSync\u003c/span\u003e(path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(distPath, file));\n  }\n}\n\n\u003cspan class=\"hljs-title function_\"\u003ewriteFileSync\u003c/span\u003e(path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(distPath, \u003cspan class=\"hljs-string\"\u003e\u0026quot;index.html\u0026quot;\u003c/span\u003e), html);\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eMost of the code is making sure the dist folder exists, and if it does, is empty\u003c/li\u003e\n\u003cli\u003eWe just take our App, render it to string, and stick it in the HTML shell\u003c/li\u003e\n\u003cli\u003eYou actually \u003cem\u003ecould\u003c/em\u003e just have React render everything, \u003ccode\u003e\u0026lt;html\u0026gt;\u003c/code\u003e, \u003ccode\u003e\u0026lt;body\u0026gt;\u003c/code\u003e and all.\u003c/li\u003e\n\u003cli\u003eWe didn\u0026#39;t include any CSS nor JS, but obviously you could.\u003c/li\u003e\n\u003cli\u003eFor mild amounts of interactivity, you could include JS file with the React run time and hydrate the app, but we don\u0026#39;t need to.\u003c/li\u003e\n\u003cli\u003eWe\u0026#39;re using renderToStaticMarkup - this very similar to the renderToString function but doesn\u0026#39;t include any hints for React to hydrate later for SSR (server-side rendering, our next lesson). renderToString would work, it\u0026#39;ll just include superfluous React stuff we don\u0026#39;t need.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis generates one page. You could have it generate many pages any number of ways. We could write a \u003ccode\u003eroutes.js\u003c/code\u003e file that defines a route and its route component and then have build.js loop over that. We could use \u003ccode\u003ereact-router\u003c/code\u003e or something like and then make our build.js use those routes to generate route. Any of these are viable.\u003c/p\u003e\n\u003ch2\u003eOkay but just use Astro, Next.js, Gatsby, etc.\u003c/h2\u003e\n\u003cp\u003eI wanted you to see how simple this is, but in reality I can\u0026#39;t fathom why you\u0026#39;d do this. You are just \u003ccode\u003enpm create astro@latest\u003c/code\u003e from a full-featured framework that is optimized around making static content sites and I can\u0026#39;t see why you wouldn\u0026#39;t do that. This site is built on Next.js because it\u0026#39;s the one I knew the best but if I were to rebuild my course builder website I\u0026#39;d use Astro.\u003c/p\u003e\n\u003ch2\u003eSSG with Next.js\u003c/h2\u003e\n\u003cp\u003eThis site is entirely SSG\u0026#39;d. In general you will never directly write SSG code yourself; you will rely on a framework to do it for you. I would say the two primary ways to do this are either using \u003ca href=\"https://nextjs.org/docs/pages/building-your-application/deploying/static-exports\"\u003eNext.js\u0026#39;s export mode\u003c/a\u003e (which is what this site does) or using \u003ca href=\"https://astro.build/\"\u003eAstro\u003c/a\u003e. Both are great, choose your favorite.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s dive in a second on how this course gets built.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/btholt/intermediate-react-v6/blob/main/lessons/02-react-render-modes/B-static-site-generation.md\"\u003eHere\u0026#39;s the link to this page\u0026#39;s markdown file\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/btholt/intermediate-react-v6/blob/main/next.config.js#L9\"\u003eHere\u0026#39;s the link to this site\u0026#39;s Next.js config\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/btholt/intermediate-react-v6/blob/gh-pages/lessons/react-render-modes/static-site-generation.html\"\u003eHere\u0026#39;s the link to this page\u0026#39;s built HTML\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/btholt/intermediate-react-v6/tree/gh-pages\"\u003eHere\u0026#39;s the link to the entire site\u0026#39;s built-out HTML\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUsing this toolkit, I\u0026#39;m able to use React to write the wrappers of the pages of the course, write all the content in Markdown, and get all sorts of developer experience tools, SEO tools, and other tools that help make it easy for Frontend Masters to film these videos. I could write raw HTML or a Notion doc or something, but there\u0026#39;s a ton of value being realized here by using Next.js\u003c/p\u003e\n","markdown":"\u003e Fun fact: this very website is rendered via SSG with Next.js! [See the code here][code]\n\nStatic Site generation allows you to use React to generate a fully static site. This is perfect for sites like blogs or course materials (like this site) where it's just a bunch of static pages that don't need the interactivity of React. It's enough to render this out once - it doesn't need the interactivity. The result is the end user is just shipped fully rendered flat HTML files - it doesn't need a server or client to do it. The developer can still add some interactivity via React, but minimally so.\n\nThis is just useful for static content. I love it because it helps me ship these courses faster, but it's not a good fit for anything with much more than basic interactivity.\n\n## Let's Build It\n\nThis is going to be almost insultingly easy but I want you to see that at its core, they frameworks are mostly doing dev experience work and tools around the actual static site generation and that React itself is doing the heavy lifting.\n\nCreate a new folder. In that folder, run\n\n```bash\nnpm init -y\nnpm i react react-dom\n```\n\nIn your package.json, add `\"type\": \"module\"` as a top level item. Also add `\"build\": \"node ./build.js\"` to your scripts.\n\n\u003e üí° We're going to do this with vanilla JS and not JSX so we don't need to bring in Babel/Vite/Webpack/whatever. You could absolutely bring in those if you wanted to, I'm just trying to keep these examples as simple as possible.\n\nCreate index.html, put this in there:\n\n```javascript\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eSSG Example\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"root\"\u003e\u003c!--ROOT--\u003e\u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\nCreate an App.js file, put in there\n\n```javascript\nimport { createElement as h } from \"react\";\n\nfunction App() {\n  return h(\n    \"div\",\n    null,\n    h(\"h1\", null, \"Hello Frontend Masters\"),\n    h(\"p\", null, \"This is SSG\")\n  );\n}\n\nexport default App;\n```\n\nNow create a build.js and put\n\n```javascript\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { createElement as h } from \"react\";\nimport {\n  readFileSync,\n  writeFileSync,\n  existsSync,\n  mkdirSync,\n  readdirSync,\n  unlinkSync,\n} from \"node:fs\";\nimport { fileURLToPath } from \"node:url\";\nimport path, { dirname } from \"node:path\";\nimport App from \"./App.js\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\nconst distPath = path.join(__dirname, \"dist\");\n\nconst shell = readFileSync(path.join(__dirname, \"index.html\"), \"utf8\");\n\nconst app = renderToStaticMarkup(h(App));\nconst html = shell.replace(\"\u003c!--ROOT--\u003e\", app);\n\n// Create dist folder if it doesn't exist\nif (!existsSync(distPath)) {\n  mkdirSync(distPath);\n} else {\n  // Delete all files in dist folder if it exists\n  const files = readdirSync(distPath);\n  for (const file of files) {\n    unlinkSync(path.join(distPath, file));\n  }\n}\n\nwriteFileSync(path.join(distPath, \"index.html\"), html);\n```\n\n- Most of the code is making sure the dist folder exists, and if it does, is empty\n- We just take our App, render it to string, and stick it in the HTML shell\n- You actually _could_ just have React render everything, `\u003chtml\u003e`, `\u003cbody\u003e` and all.\n- We didn't include any CSS nor JS, but obviously you could.\n- For mild amounts of interactivity, you could include JS file with the React run time and hydrate the app, but we don't need to.\n- We're using renderToStaticMarkup - this very similar to the renderToString function but doesn't include any hints for React to hydrate later for SSR (server-side rendering, our next lesson). renderToString would work, it'll just include superfluous React stuff we don't need.\n\nThis generates one page. You could have it generate many pages any number of ways. We could write a `routes.js` file that defines a route and its route component and then have build.js loop over that. We could use `react-router` or something like and then make our build.js use those routes to generate route. Any of these are viable.\n\n## Okay but just use Astro, Next.js, Gatsby, etc.\n\nI wanted you to see how simple this is, but in reality I can't fathom why you'd do this. You are just `npm create astro@latest` from a full-featured framework that is optimized around making static content sites and I can't see why you wouldn't do that. This site is built on Next.js because it's the one I knew the best but if I were to rebuild my course builder website I'd use Astro.\n\n## SSG with Next.js\n\nThis site is entirely SSG'd. In general you will never directly write SSG code yourself; you will rely on a framework to do it for you. I would say the two primary ways to do this are either using [Next.js's export mode][export] (which is what this site does) or using [Astro][astro]. Both are great, choose your favorite.\n\nLet's dive in a second on how this course gets built.\n\n- [Here's the link to this page's markdown file][md]\n- [Here's the link to this site's Next.js config][config]\n- [Here's the link to this page's built HTML][html]\n- [Here's the link to the entire site's built-out HTML][site-html]\n\nUsing this toolkit, I'm able to use React to write the wrappers of the pages of the course, write all the content in Markdown, and get all sorts of developer experience tools, SEO tools, and other tools that help make it easy for Frontend Masters to film these videos. I could write raw HTML or a Notion doc or something, but there's a ton of value being realized here by using Next.js\n\n[code]: https://github.com/btholt/intermediate-react-v6/\n[export]: https://nextjs.org/docs/pages/building-your-application/deploying/static-exports\n[astro]: https://astro.build/\n[md]: https://github.com/btholt/intermediate-react-v6/blob/main/lessons/02-react-render-modes/B-static-site-generation.md\n[config]: https://github.com/btholt/intermediate-react-v6/blob/main/next.config.js#L9\n[html]: https://github.com/btholt/intermediate-react-v6/blob/gh-pages/lessons/react-render-modes/static-site-generation.html\n[site-html]: https://github.com/btholt/intermediate-react-v6/tree/gh-pages\n","slug":"static-site-generation","title":"Static Site Generation","section":"React Render Modes","icon":"paint-roller","filePath":"/home/runner/work/intermediate-react-v6/intermediate-react-v6/lessons/02-react-render-modes/B-static-site-generation.md","nextSlug":"/lessons/react-render-modes/server-side-rendering","prevSlug":"/lessons/react-render-modes/client-side-react"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"react-render-modes","slug":"static-site-generation"},"buildId":"81bftuYLGkwiC8AXLtnRs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>