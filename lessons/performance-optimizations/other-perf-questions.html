<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">Other Perf Questions ‚Äì Intermediate React v6</title><meta name="description" content="Explore the differences between useMemo and useCallback Hooks in React, as explained by Brian Holt in the Intermediate React v6 course for Frontend Masters. Understand when to use these Hooks for performance optimization and learn about the potential pitfalls of overusing memoization, alongside insights into React Compiler. Enhance your React skills with practical advice on state management and performance enhancement techniques." data-next-head=""/><meta name="keywords" content="useMemo,useCallback,React Hooks,performance optimization,memoization,React Compiler,Brian Holt" data-next-head=""/><meta name="og:description" content="Explore the differences between useMemo and useCallback Hooks in React, as explained by Brian Holt in the Intermediate React v6 course for Frontend Masters. Understand when to use these Hooks for performance optimization and learn about the potential pitfalls of overusing memoization, alongside insights into React Compiler. Enhance your React skills with practical advice on state management and performance enhancement techniques." data-next-head=""/><meta name="og:title" content="Other Perf Questions ‚Äì Intermediate React v6" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/0732dfa8741dc542.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0732dfa8741dc542.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b66ed8ba6f029a99.js" defer=""></script><script src="/_next/static/chunks/framework-a4ddb9b21624b39b.js" defer=""></script><script src="/_next/static/chunks/main-d4c20200ddabac7f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-31cd0638bbee6098.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-7da2347a1e0b6c73.js" defer=""></script><script src="/_next/static/81bftuYLGkwiC8AXLtnRs/_buildManifest.js" defer=""></script><script src="/_next/static/81bftuYLGkwiC8AXLtnRs/_ssgManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Intermediate React v6</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/courses/intermediate-react-v6/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><h2>useMemo vs useCallback</h2>
<p>What&#39;s the difference between useCallback and useMemo? Not much. You could actually rewrite our code to look like this and it&#39;d be equivalent.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// render and render2 are functionally equivalent</span>
<span class="hljs-keyword">const</span> render = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span> marked.<span class="hljs-title function_">parse</span>(text), []);
<span class="hljs-keyword">const</span> render2 = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span> marked.<span class="hljs-title function_">parse</span>(text), []);
</code></pre><p>Notice there&#39;s an extra <code>() =&gt; [fn]</code>. useCallback is only a thin wrapper on useMemo that automatically wraps it in the additional function. It&#39;s otherwise 100% equivalent.</p>
<h2>What about strings and numbers?</h2>
<p>If you&#39;re just passing in strings and numbers to a <code>memo</code>ized function, you don&#39;t need useMemo or useCallback since those will just pass the <code>===</code> test already. It&#39;s just objects and functions! So instead of having options as an object, we could have had theme and text as top level props and we could have skipped using useMemo!</p>
<p>That&#39;s it! While you should use these tools sparingly, they&#39;re handy when you do need them. They let you create a better performance profile when it&#39;s important.</p>
<h2>Don&#39;t just use memo all the time üôè</h2>
<p>As your potential future coworker, please please please don&#39;t just use memo on every function. I know it sounds like a good idea but let me tell you why. When you memoize something, it doesn&#39;t re-render when its props haven&#39;t changed. You&#39;re correct in thinking that is normally true of most components. However I <strong>guarantee</strong> you will start getting bugs of a component not re-rendering when you expect it to, and that is a hard bug to find if it&#39;s an errant memo somewhere in your codebase (spoken by someone who has had to debug this.) Just don&#39;t do it.</p>
<h2>React Compiler</h2>
<p>We talk a bit about <a href="https://react.dev/learn/react-compiler">React Compiler</a> in the intro course, but let&#39;s mention it again here. The function of React Compiler is to examine your code and determine what components could be memoized without causing unexpected behavior. So just what I told you not to do? React is actually going to do this for you free. It&#39;s still in a rough alpha but they&#39;re encouraging people to try it out.</p>
<p><a href="https://react-v9.holt.courses/lessons/whats-next/react-compiler">See my Intro lesson on it</a>.</p>
</div><div class="lesson-links"><a href="/lessons/performance-optimizations/fixing-it" class="prev">‚Üê Previous</a><a href="/lessons/transitions/what-are-transitions" class="next">Next ‚Üí</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="auto" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="auto"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Explore the differences between useMemo and useCallback Hooks in React, as explained by Brian Holt in the Intermediate React v6 course for Frontend Masters. Understand when to use these Hooks for performance optimization and learn about the potential pitfalls of overusing memoization, alongside insights into React Compiler. Enhance your React skills with practical advice on state management and performance enhancement techniques.","keywords":["useMemo","useCallback","React Hooks","performance optimization","memoization","React Compiler","Brian Holt"]},"html":"\u003ch2\u003euseMemo vs useCallback\u003c/h2\u003e\n\u003cp\u003eWhat\u0026#39;s the difference between useCallback and useMemo? Not much. You could actually rewrite our code to look like this and it\u0026#39;d be equivalent.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// render and render2 are functionally equivalent\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e render = \u003cspan class=\"hljs-title function_\"\u003euseMemo\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003etext\u003c/span\u003e) =\u0026gt;\u003c/span\u003e marked.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(text), []);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e render2 = \u003cspan class=\"hljs-title function_\"\u003euseCallback\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003etext\u003c/span\u003e) =\u0026gt;\u003c/span\u003e marked.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(text), []);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNotice there\u0026#39;s an extra \u003ccode\u003e() =\u0026gt; [fn]\u003c/code\u003e. useCallback is only a thin wrapper on useMemo that automatically wraps it in the additional function. It\u0026#39;s otherwise 100% equivalent.\u003c/p\u003e\n\u003ch2\u003eWhat about strings and numbers?\u003c/h2\u003e\n\u003cp\u003eIf you\u0026#39;re just passing in strings and numbers to a \u003ccode\u003ememo\u003c/code\u003eized function, you don\u0026#39;t need useMemo or useCallback since those will just pass the \u003ccode\u003e===\u003c/code\u003e test already. It\u0026#39;s just objects and functions! So instead of having options as an object, we could have had theme and text as top level props and we could have skipped using useMemo!\u003c/p\u003e\n\u003cp\u003eThat\u0026#39;s it! While you should use these tools sparingly, they\u0026#39;re handy when you do need them. They let you create a better performance profile when it\u0026#39;s important.\u003c/p\u003e\n\u003ch2\u003eDon\u0026#39;t just use memo all the time üôè\u003c/h2\u003e\n\u003cp\u003eAs your potential future coworker, please please please don\u0026#39;t just use memo on every function. I know it sounds like a good idea but let me tell you why. When you memoize something, it doesn\u0026#39;t re-render when its props haven\u0026#39;t changed. You\u0026#39;re correct in thinking that is normally true of most components. However I \u003cstrong\u003eguarantee\u003c/strong\u003e you will start getting bugs of a component not re-rendering when you expect it to, and that is a hard bug to find if it\u0026#39;s an errant memo somewhere in your codebase (spoken by someone who has had to debug this.) Just don\u0026#39;t do it.\u003c/p\u003e\n\u003ch2\u003eReact Compiler\u003c/h2\u003e\n\u003cp\u003eWe talk a bit about \u003ca href=\"https://react.dev/learn/react-compiler\"\u003eReact Compiler\u003c/a\u003e in the intro course, but let\u0026#39;s mention it again here. The function of React Compiler is to examine your code and determine what components could be memoized without causing unexpected behavior. So just what I told you not to do? React is actually going to do this for you free. It\u0026#39;s still in a rough alpha but they\u0026#39;re encouraging people to try it out.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://react-v9.holt.courses/lessons/whats-next/react-compiler\"\u003eSee my Intro lesson on it\u003c/a\u003e.\u003c/p\u003e\n","markdown":"\n## useMemo vs useCallback\n\nWhat's the difference between useCallback and useMemo? Not much. You could actually rewrite our code to look like this and it'd be equivalent.\n\n```javascript\n// render and render2 are functionally equivalent\nconst render = useMemo(() =\u003e (text) =\u003e marked.parse(text), []);\nconst render2 = useCallback((text) =\u003e marked.parse(text), []);\n```\n\nNotice there's an extra `() =\u003e [fn]`. useCallback is only a thin wrapper on useMemo that automatically wraps it in the additional function. It's otherwise 100% equivalent.\n\n## What about strings and numbers?\n\nIf you're just passing in strings and numbers to a `memo`ized function, you don't need useMemo or useCallback since those will just pass the `===` test already. It's just objects and functions! So instead of having options as an object, we could have had theme and text as top level props and we could have skipped using useMemo!\n\nThat's it! While you should use these tools sparingly, they're handy when you do need them. They let you create a better performance profile when it's important.\n\n## Don't just use memo all the time üôè\n\nAs your potential future coworker, please please please don't just use memo on every function. I know it sounds like a good idea but let me tell you why. When you memoize something, it doesn't re-render when its props haven't changed. You're correct in thinking that is normally true of most components. However I **guarantee** you will start getting bugs of a component not re-rendering when you expect it to, and that is a hard bug to find if it's an errant memo somewhere in your codebase (spoken by someone who has had to debug this.) Just don't do it.\n\n## React Compiler\n\nWe talk a bit about [React Compiler][compiler] in the intro course, but let's mention it again here. The function of React Compiler is to examine your code and determine what components could be memoized without causing unexpected behavior. So just what I told you not to do? React is actually going to do this for you free. It's still in a rough alpha but they're encouraging people to try it out.\n\n[See my Intro lesson on it][intro].\n\n[compiler]: https://react.dev/learn/react-compiler\n[intro]: https://react-v9.holt.courses/lessons/whats-next/react-compiler\n","slug":"other-perf-questions","title":"Other Perf Questions","section":"Performance Optimizations","icon":"gauge-high","filePath":"/home/runner/work/intermediate-react-v6/intermediate-react-v6/lessons/05-performance-optimizations/D-other-perf-questions.md","nextSlug":"/lessons/transitions/what-are-transitions","prevSlug":"/lessons/performance-optimizations/fixing-it"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"performance-optimizations","slug":"other-perf-questions"},"buildId":"81bftuYLGkwiC8AXLtnRs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>